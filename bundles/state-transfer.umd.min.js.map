{"version":3,"file":"state-transfer.umd.min.js","sources":["../../../../.temp/packages/@ngx-universal/state-transfer/src/utils/json-string-tools.ts","../../../../.temp/packages/@ngx-universal/state-transfer/index.ts","../../../../.temp/packages/@ngx-universal/state-transfer/src/state-transfer.service.ts","../../../../.temp/packages/@ngx-universal/state-transfer/src/server-state-transfer.service.ts","../../../../.temp/packages/@ngx-universal/state-transfer/src/http-transfer.service.ts"],"sourcesContent":["const /** @type {?} */ jsonStringEscapeMap = {\r\n  '&': '&amp;',\r\n  '<': '&lt;',\r\n  '>': '&gt;',\r\n  '\\\\': '\\\\\\\\',\r\n  '\\'': '&#39;'\r\n};\r\n\r\nconst /** @type {?} */ jsonStringUnescapeMap = {\r\n  '&lt;': '<',\r\n  '&gt;': '>',\r\n  '&amp;': '&',\r\n  '&#39;': '\\''\r\n};\n/**\n * @param {?} str\n * @return {?}\n */\nexport function jsonStringEscape(str: string): string {\r\n  return str.replace(/[&\\<\\>\\\\']/g, e => jsonStringEscapeMap[e]);\r\n}\n/**\n * @param {?} str\n * @return {?}\n */\nexport function jsonStringUnescape(str: string): string {\r\n  return str.replace(/(&amp;)|(&lt;)|(&gt;)|(&#39;)/g, e => jsonStringUnescapeMap[e]);\r\n}\r\n","// angular\r\n\nimport { ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\r\n\r\n// module\r\n\nimport { DEFAULT_STATE_ID, ServerStateTransferService, STATE_ID } from './src/server-state-transfer.service';\r\nimport { HttpTransferService } from './src/http-transfer.service';\r\nimport { StateTransferService } from './src/state-transfer.service';\r\nimport { jsonStringUnescape } from './src/utils/json-string-tools';\r\n\r\nexport {STATE_ID,DEFAULT_STATE_ID,ServerStateTransferService} from './src/server-state-transfer.service';\r\nexport {StateTransferService} from './src/state-transfer.service';\r\nexport {HttpTransferService} from './src/http-transfer.service';\n/**\n * @param {?} stateId\n * @return {?}\n */\nexport function stateTransferFactory(stateId: string): StateTransferService {\r\n  const /** @type {?} */ stateTransfer = new StateTransferService();\r\n  const /** @type {?} */ escapedState = window[stateId] || '';\r\n  const /** @type {?} */ state = JSON.parse(jsonStringUnescape(escapedState));\r\n\r\n  stateTransfer.initialize(state);\r\n\r\n  return stateTransfer;\r\n}\nexport class HttpTransferModule {\n/**\n * @return {?}\n */\nstatic forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: HttpTransferModule\r\n    };\r\n  }\n/**\n * @param {?} parentModule\n */\nconstructor(  parentModule: HttpTransferModule) {\r\n    if (parentModule)\r\n      throw new Error('HttpTransferModule already loaded; import in root module only.');\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\r\n  providers: [\r\n    HttpTransferService\r\n  ]\r\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: HttpTransferModule, decorators: [{ type: Optional }, { type: SkipSelf }, ]},\n];\n}\n\nfunction HttpTransferModule_tsickle_Closure_declarations() {\n/** @type {?} */\nHttpTransferModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nHttpTransferModule.ctorParameters;\n}\n\nexport class BrowserStateTransferModule {\n/**\n * @param {?=} stateId\n * @return {?}\n */\nstatic forRoot(stateId: string = DEFAULT_STATE_ID): ModuleWithProviders {\r\n    return {\r\n      ngModule: BrowserStateTransferModule,\r\n      providers: [\r\n        {\r\n          provide: StateTransferService,\r\n          useFactory: (stateTransferFactory),\r\n          deps: [STATE_ID]\r\n        },\r\n        {\r\n          provide: STATE_ID,\r\n          useValue: stateId\r\n        }\r\n      ]\r\n    };\r\n  }\n/**\n * @param {?} parentModule\n */\nconstructor(  parentModule: BrowserStateTransferModule) {\r\n    if (parentModule)\r\n      throw new Error('BrowserStateTransferModule already loaded; import in BROWSER module only.');\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: BrowserStateTransferModule, decorators: [{ type: Optional }, { type: SkipSelf }, ]},\n];\n}\n\nfunction BrowserStateTransferModule_tsickle_Closure_declarations() {\n/** @type {?} */\nBrowserStateTransferModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nBrowserStateTransferModule.ctorParameters;\n}\n\nexport class ServerStateTransferModule {\n/**\n * @param {?=} stateId\n * @return {?}\n */\nstatic forRoot(stateId: string = DEFAULT_STATE_ID): ModuleWithProviders {\r\n    return {\r\n      ngModule: ServerStateTransferModule,\r\n      providers: [\r\n        {\r\n          provide: STATE_ID,\r\n          useValue: stateId\r\n        }\r\n      ]\r\n    };\r\n  }\n/**\n * @param {?} parentModule\n */\nconstructor(  parentModule: ServerStateTransferModule) {\r\n    if (parentModule)\r\n      throw new Error('ServerStateTransferModule already loaded; import in SERVER module only.');\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\r\n  providers: [\r\n    {\r\n      provide: StateTransferService,\r\n      useClass: ServerStateTransferService\r\n    }\r\n  ]\r\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ServerStateTransferModule, decorators: [{ type: Optional }, { type: SkipSelf }, ]},\n];\n}\n\nfunction ServerStateTransferModule_tsickle_Closure_declarations() {\n/** @type {?} */\nServerStateTransferModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerStateTransferModule.ctorParameters;\n}\n\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","// angular\r\n\nimport { Injectable } from '@angular/core';\nexport class StateTransferService {\nprivate readonly state: Map<string, any>;\nconstructor() {\r\n    this.state = new Map<string, any>();\r\n  }\n/**\n * @param {?} state\n * @return {?}\n */\ninitialize(state: Map<string, any>): void {\r\n    Object.keys(state)\r\n      .forEach(key => {\r\n        this.set(key, state[key]);\r\n      });\r\n  }\n/**\n * @param {?} key\n * @return {?}\n */\nget(key: string): any {\r\n    return this.state.get(key);\r\n  }\n/**\n * @param {?} key\n * @param {?} value\n * @return {?}\n */\nset(key: string, value: any): Map<string, any> {\r\n    return this.state.set(key, value);\r\n  }\n/**\n * @return {?}\n */\ninject(): void {\r\n    // NOTE: not implemented, needs to be overridden by subclasses\r\n  }\n/**\n * @return {?}\n */\nprotected toJson(): any {\r\n    const /** @type {?} */ obj = {};\r\n    Array.from(this.state.keys())\r\n      .forEach((key: string) => {\r\n        obj[key] = this.get(key);\r\n      });\r\n\r\n    return obj;\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction StateTransferService_tsickle_Closure_declarations() {\n/** @type {?} */\nStateTransferService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nStateTransferService.ctorParameters;\n/** @type {?} */\nStateTransferService.prototype.state;\n}\n\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","// angular\r\n\nimport { Inject, Injectable, InjectionToken, RendererFactory2, ViewEncapsulation } from '@angular/core';\r\nimport { PlatformState } from '@angular/platform-server';\r\n\r\n// module\r\n\nimport { StateTransferService } from './state-transfer.service';\r\n\r\n// utils\r\n\nimport { jsonStringEscape } from './utils/json-string-tools';\r\n\r\nexport const /** @type {?} */ STATE_ID = new InjectionToken<string>('STATE_ID');\r\nexport const /** @type {?} */ DEFAULT_STATE_ID = 'STATE';\nexport class ServerStateTransferService extends StateTransferService {\n/**\n * @param {?} stateId\n * @param {?} platformState\n * @param {?} rendererFactory\n */\nconstructor(\nprivate readonly stateId: string,\nprivate readonly platformState: PlatformState,\nprivate readonly rendererFactory: RendererFactory2) {\r\n    super();\r\n  }\n/**\n * @return {?}\n */\ninject(): void {\r\n    try {\r\n      const /** @type {?} */ document: any = this.platformState.getDocument();\r\n      const /** @type {?} */ state = JSON.stringify(this.toJson());\r\n      const /** @type {?} */ escapedState = jsonStringEscape(state);\r\n      const /** @type {?} */ renderer = this.rendererFactory.createRenderer(document, {\r\n        id: '-1',\r\n        encapsulation: ViewEncapsulation.None,\r\n        styles: [],\r\n        data: {}\r\n      });\r\n\r\n      const /** @type {?} */ body = document.body;\r\n\r\n      if (!body)\r\n        throw new Error('<body> not found in the document');\r\n\r\n      const /** @type {?} */ script = renderer.createElement('script');\r\n      renderer.setValue(script, `window['${this.stateId}'] = '${escapedState}'`);\r\n      renderer.appendChild(body, script);\r\n    } catch ( /** @type {?} */e) {\r\n      console.error(e);\r\n    }\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [STATE_ID, ] }, ]},\n{type: PlatformState, },\n{type: RendererFactory2, },\n];\n}\n\nfunction ServerStateTransferService_tsickle_Closure_declarations() {\n/** @type {?} */\nServerStateTransferService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nServerStateTransferService.ctorParameters;\n/** @type {?} */\nServerStateTransferService.prototype.stateId;\n/** @type {?} */\nServerStateTransferService.prototype.platformState;\n/** @type {?} */\nServerStateTransferService.prototype.rendererFactory;\n}\n\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","// angular\r\n\nimport { Injectable } from '@angular/core';\r\nimport { Http, Request, RequestOptionsArgs, Response } from '@angular/http';\r\n\r\n// libs\r\n\nimport { Observable } from 'rxjs/Observable';\r\nimport'rxjs/add/observable/fromPromise';\r\nimport'rxjs/add/operator/do';\r\nimport'rxjs/add/operator/map';\r\n\r\n// module\r\n\nimport { StateTransferService } from './state-transfer.service';\nexport class HttpTransferService {\n/**\n * @param {?} http\n * @param {?} stateTransfer\n */\nconstructor(private readonly http: Http,\r\n              protected readonly stateTransfer: StateTransferService) {\r\n  }\n/**\n * @param {?} uri\n * @param {?=} options\n * @return {?}\n */\nrequest(uri: string | Request, options?: RequestOptionsArgs): Observable<any> {\r\n    return this.getData(uri, options, (urlRes: string, optionsRes: RequestOptionsArgs) => {\r\n      return this.http.request(urlRes, optionsRes);\r\n    });\r\n  }\n/**\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\nget(url: string, options?: RequestOptionsArgs): Observable<any> {\r\n    return this.getData(url, options, (urlRes: string, optionsRes: RequestOptionsArgs) => {\r\n      return this.http.get(urlRes, optionsRes);\r\n    });\r\n  }\n/**\n * @param {?} url\n * @param {?} body\n * @param {?=} options\n * @return {?}\n */\npost(url: string, body: any, options?: RequestOptionsArgs): Observable<any> {\r\n    return this.getPostData(url, body, options, (urlRes: string) => {\r\n      return this.http.post(urlRes, body, options);\r\n    });\r\n  }\n/**\n * @param {?} url\n * @param {?} body\n * @param {?=} options\n * @return {?}\n */\nput(url: string, body: any, options?: RequestOptionsArgs): Observable<any> {\r\n    return this.getData(url, options, (urlRes: string, optionsRes: RequestOptionsArgs) => {\r\n      return this.http.put(urlRes, optionsRes);\r\n    });\r\n  }\n/**\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\ndelete(url: string, options?: RequestOptionsArgs): Observable<any> {\r\n    return this.getData(url, options, (urlRes: string, optionsRes: RequestOptionsArgs) => {\r\n      return this.http.delete(urlRes, optionsRes);\r\n    });\r\n  }\n/**\n * @param {?} url\n * @param {?} body\n * @param {?=} options\n * @return {?}\n */\npatch(url: string, body: any, options?: RequestOptionsArgs): Observable<any> {\r\n    return this.getPostData(url, body, options, (urlRes: string) => {\r\n      return this.http.patch(urlRes, body, options);\r\n    });\r\n  }\n/**\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\nhead(url: string, options?: RequestOptionsArgs): Observable<any> {\r\n    return this.getData(url, options, (urlRes: string, optionsRes: RequestOptionsArgs) => {\r\n      return this.http.head(urlRes, optionsRes);\r\n    });\r\n  }\n/**\n * @param {?} url\n * @param {?=} options\n * @return {?}\n */\noptions(url: string, options?: RequestOptionsArgs): Observable<any> {\r\n    return this.getData(url, options, (urlRes: string, optionsRes: RequestOptionsArgs) => {\r\n      return this.http.options(urlRes, optionsRes);\r\n    });\r\n  }\n/**\n * @param {?} uri\n * @param {?} options\n * @param {?} callback\n * @return {?}\n */\nprivate getData(uri: string | Request, options: RequestOptionsArgs,\r\n                  callback: (uri: string | Request, options?: RequestOptionsArgs) => Observable<Response>): any {\r\n\r\n    let /** @type {?} */ url = uri;\r\n\r\n    if (typeof uri !== 'string')\r\n      url = uri.url;\r\n\r\n    const /** @type {?} */ key = url + JSON.stringify(options);\r\n\r\n    try {\r\n      return this.resolveData(key);\r\n\r\n    } catch ( /** @type {?} */e) {\r\n      return callback(uri, options)\r\n        .map(res => res.json())\r\n        .do(data => {\r\n          this.setCache(key, data);\r\n        });\r\n    }\r\n  }\n/**\n * @param {?} uri\n * @param {?} body\n * @param {?} options\n * @param {?} callback\n * @return {?}\n */\nprivate getPostData(uri: string | Request, body: any, options: RequestOptionsArgs,\r\n                      callback: (uri: string | Request, body: any, options?: RequestOptionsArgs) => Observable<Response>): any {\r\n\r\n    let /** @type {?} */ url = uri;\r\n\r\n    if (typeof uri !== 'string')\r\n      url = uri.url;\r\n\r\n    const /** @type {?} */ key = url + JSON.stringify(body) + JSON.stringify(options);\r\n\r\n    try {\r\n      return this.resolveData(key);\r\n    } catch ( /** @type {?} */e) {\r\n      return callback(uri, body, options)\r\n        .map(res => res.json())\r\n        .do(data => {\r\n          this.setCache(key, data);\r\n        });\r\n    }\r\n  }\n/**\n * @param {?} key\n * @return {?}\n */\nprivate resolveData(key: string): any {\r\n    const /** @type {?} */ data = this.getFromCache(key);\r\n\r\n    if (!data)\r\n      throw new Error();\r\n\r\n    return Observable.fromPromise(Promise.resolve(data));\r\n  }\n/**\n * @param {?} key\n * @param {?} data\n * @return {?}\n */\nprivate setCache(key: string, data: any): any {\r\n    return this.stateTransfer.set(key, data);\r\n  }\n/**\n * @param {?} key\n * @return {?}\n */\nprivate getFromCache(key: string): any {\r\n    return this.stateTransfer.get(key);\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Http, },\n{type: StateTransferService, },\n];\n}\n\nfunction HttpTransferService_tsickle_Closure_declarations() {\n/** @type {?} */\nHttpTransferService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nHttpTransferService.ctorParameters;\n/** @type {?} */\nHttpTransferService.prototype.http;\n/** @type {?} */\nHttpTransferService.prototype.stateTransfer;\n}\n\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["str","replace","e","jsonStringEscapeMap","jsonStringUnescapeMap","stateId","stateTransfer","StateTransferService","escapedState","window","state","JSON","parse","jsonStringUnescape","initialize","this","Map","Object","keys","forEach","key","_this","set","get","value","obj","Array","from","type","Injectable","&","<",">","\\","'","&lt;","&gt;","&amp;","&#39;","STATE_ID","InjectionToken","platformState","rendererFactory","_super","tslib_1.__extends","ServerStateTransferService","document_1","getDocument","jsonStringEscape","stringify","toJson","renderer","createRenderer","id","encapsulation","ViewEncapsulation","None","styles","data","body","Error","script","createElement","setValue","appendChild","console","error","undefined","decorators","Inject","args","PlatformState","RendererFactory2","http","HttpTransferService","uri","options","getData","urlRes","optionsRes","request","url","getPostData","post","put","delete","patch","head","callback","resolveData","map","res","json","do","setCache","getFromCache","Observable","fromPromise","Promise","resolve","Http","parentModule","HttpTransferModule","ngModule","NgModule","providers","Optional","SkipSelf","BrowserStateTransferModule","provide","useFactory","deps","useValue","ServerStateTransferModule","useClass"],"mappings":"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"}