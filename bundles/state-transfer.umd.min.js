(function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@angular/core"),require("@angular/http"),require("@angular/platform-server"),require("rxjs/Observable"),require("rxjs/add/observable/fromPromise"),require("rxjs/add/operator/do"),require("rxjs/add/operator/map")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/http","@angular/platform-server","rxjs/Observable","rxjs/add/observable/fromPromise","rxjs/add/operator/do","rxjs/add/operator/map"],r):"object"==typeof exports?exports["ngx-universal"]=r(require("@angular/core"),require("@angular/http"),require("@angular/platform-server"),require("rxjs/Observable"),require("rxjs/add/observable/fromPromise"),require("rxjs/add/operator/do"),require("rxjs/add/operator/map")):t["ngx-universal"]=r(t["@angular/core"],t["@angular/http"],t["@angular/platform-server"],t["rxjs/Observable"],t["rxjs/add/observable/fromPromise"],t["rxjs/add/operator/do"],t["rxjs/add/operator/map"])})(this,function(t,r,e,n,o,a,i){return function(t){function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var e={};return r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="/",r(r.s=6)}([function(t,r,e){"use strict";e.d(r,"a",function(){return a});var n=e(1),o=e(2),a=(e.n(o),function(){function t(){this.state=new Map}return t.prototype.initialize=function(t){var r=this;Object.keys(t).forEach(function(e){r.set(e,t[e])})},t.prototype.get=function(t){return this.state.get(t)},t.prototype.set=function(t,r){return this.state.set(t,r)},t.prototype.inject=function(){},t.prototype.toJson=function(){var t=this,r={};return Array.from(this.state.keys()).forEach(function(e){r[e]=t.get(e)}),r},t}());a=n.a([e.i(o.Injectable)(),n.c("design:paramtypes",[])],a)},function(t,r,e){"use strict";function n(t,r){function e(){this.constructor=t}u(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}function o(t,r,e,n){var o,a=arguments.length,i=a<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,r,e,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(i=(a<3?o(i):a>3?o(r,e,i):o(r,e))||i);return a>3&&i&&Object.defineProperty(r,e,i),i}function a(t,r){return function(e,n){r(e,n,t)}}function i(t,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,r)}r.d=n,r.a=o,r.b=a,r.c=i;var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};Object.assign},function(r,e){r.exports=t},function(t,r,e){"use strict";e.d(r,"a",function(){return p});var n=e(1),o=e(2),a=(e.n(o),e(7)),i=(e.n(a),e(9)),u=(e.n(i),e(10)),s=(e.n(u),e(11)),c=(e.n(s),e(12)),f=(e.n(c),e(0)),p=function(){function t(t,r){this.http=t,this.stateTransfer=r}return t.prototype.request=function(t,r){var e=this;return this.getData(t,r,function(t,r){return e.http.request(t,r)})},t.prototype.get=function(t,r){var e=this;return this.getData(t,r,function(t,r){return e.http.get(t,r)})},t.prototype.post=function(t,r,e){var n=this;return this.getPostData(t,r,e,function(t){return n.http.post(t,r.options)})},t.prototype.put=function(t,r,e){var n=this;return this.getData(t,e,function(t,r){return n.http.put(t,r)})},t.prototype.delete=function(t,r){var e=this;return this.getData(t,r,function(t,r){return e.http.delete(t,r)})},t.prototype.patch=function(t,r,e){var n=this;return this.getPostData(t,r,e,function(t){return n.http.patch(t,r.options)})},t.prototype.head=function(t,r){var e=this;return this.getData(t,r,function(t,r){return e.http.head(t,r)})},t.prototype.options=function(t,r){var e=this;return this.getData(t,r,function(t,r){return e.http.options(t,r)})},t.prototype.getData=function(t,r,e){var n=this,o=t;"string"!=typeof t&&(o=t.url);var a=o+JSON.stringify(r);try{return this.resolveData(a)}catch(o){return e(t,r).map(function(t){return t.json()}).do(function(t){n.setCache(a,t)})}},t.prototype.getPostData=function(t,r,e,n){var o=this,a=t;"string"!=typeof t&&(a=t.url);var i=a+JSON.stringify(r)+JSON.stringify(e);try{return this.resolveData(i)}catch(a){return n(t,r,e).map(function(t){return t.json()}).do(function(t){o.setCache(i,t)})}},t.prototype.resolveData=function(t){var r=this.getFromCache(t);if(!r)throw new Error;return i.Observable.fromPromise(Promise.resolve(r))},t.prototype.setCache=function(t,r){return this.stateTransfer.set(t,r)},t.prototype.getFromCache=function(t){return this.stateTransfer.get(t)},t}();p=n.a([e.i(o.Injectable)(),n.c("design:paramtypes",[a.Http,f.a])],p)},function(t,r,e){"use strict";e.d(r,"a",function(){return s}),e.d(r,"b",function(){return c}),e.d(r,"c",function(){return f});var n=e(1),o=e(2),a=(e.n(o),e(8)),i=(e.n(a),e(0)),u=e(5),s=new o.InjectionToken("STATE_ID"),c="STATE",f=function(t){function r(r,e,n){var o=t.call(this)||this;return o.stateId=r,o.platformState=e,o.rendererFactory=n,o}return n.d(r,t),r.prototype.inject=function(){try{var t=this.platformState.getDocument(),r=JSON.stringify(this.toJson()),n=e.i(u.b)(r),a=this.rendererFactory.createRenderer(t,{id:"-1",encapsulation:o.ViewEncapsulation.None,styles:[],data:{}}),i=t.body;if(!i)throw new Error("<body> not found in the document");var s=a.createElement("script");a.setValue(s,"window['"+this.stateId+"'] = '"+n+"'"),a.appendChild(i,s)}catch(t){console.error(t)}},r}(i.a);f=n.a([e.i(o.Injectable)(),n.b(0,e.i(o.Inject)(s)),n.c("design:paramtypes",[String,a.PlatformState,o.RendererFactory2])],f)},function(t,r,e){"use strict";function n(t){return t.replace(/[&\<\>\\']/g,function(t){return a[t]})}function o(t){return t.replace(/(&amp;)|(&lt;)|(&gt;)|(&#39;)/g,function(t){return i[t]})}r.b=n,r.a=o;var a={"&":"&amp;","<":"&lt;",">":"&gt;","\\":"\\\\","'":"&#39;"},i={"&lt;":"<","&gt;":">","&amp;":"&","&#39;":"'"}},function(t,r,e){"use strict";function n(t){var r=new s.a,n=window[t]||"",o=JSON.parse(e.i(c.a)(n));return r.initialize(o),r}Object.defineProperty(r,"__esModule",{value:!0}),r.stateTransferFactory=n,e.d(r,"HttpTransferModule",function(){return f}),e.d(r,"BrowserStateTransferModule",function(){return p}),e.d(r,"ServerStateTransferModule",function(){return d});var o=e(1),a=e(2),i=(e.n(a),e(4)),u=e(3),s=e(0),c=e(5);e.d(r,"STATE_ID",function(){return i.a}),e.d(r,"DEFAULT_STATE_ID",function(){return i.b}),e.d(r,"ServerStateTransferService",function(){return i.c}),e.d(r,"StateTransferService",function(){return s.a}),e.d(r,"HttpTransferService",function(){return u.a});var f=l=function(){function t(t){if(t)throw new Error("HttpTransferModule already loaded; import in root module only.")}return t.forRoot=function(){return{ngModule:l}},t}();f=l=o.a([e.i(a.NgModule)({providers:[u.a]}),o.b(0,e.i(a.Optional)()),o.b(0,e.i(a.SkipSelf)()),o.c("design:paramtypes",[f])],f);var p=h=function(){function t(t){if(t)throw new Error("BrowserStateTransferModule already loaded; import in BROWSER module only.")}return t.forRoot=function(t){return void 0===t&&(t=i.b),{ngModule:h,providers:[{provide:s.a,useFactory:n,deps:[i.a]},{provide:i.a,useValue:t}]}},t}();p=h=o.a([e.i(a.NgModule)(),o.b(0,e.i(a.Optional)()),o.b(0,e.i(a.SkipSelf)()),o.c("design:paramtypes",[p])],p);var d=v=function(){function t(t){if(t)throw new Error("ServerStateTransferModule already loaded; import in SERVER module only.")}return t.forRoot=function(t){return void 0===t&&(t=i.b),{ngModule:v,providers:[{provide:i.a,useValue:t}]}},t}();d=v=o.a([e.i(a.NgModule)({providers:[{provide:s.a,useClass:i.c}]}),o.b(0,e.i(a.Optional)()),o.b(0,e.i(a.SkipSelf)()),o.c("design:paramtypes",[d])],d);var l,h,v},function(t,e){t.exports=r},function(t,r){t.exports=e},function(t,r){t.exports=n},function(t,r){t.exports=o},function(t,r){t.exports=a},function(t,r){t.exports=i}])});